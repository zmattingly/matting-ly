!function(e){function t(e,t,n){e.$state=t,e.$on("$stateChangeStart",function(e,o,r,i,l,a){n.getAccountStatus().then(function(){o.access.restricted&&!n.isLoggedIn()&&(e.preventDefault(),t.go("public.home"))})})}var n=e.module("matting-ly",["matting-ly.routing","matting-ly.selectionTable","ngResource","ui.bootstrap","ui.bootstrap.tpls","ui.tinymce"]);t.$inject=["$rootScope","$state","AuthService"],n.run(t)}(window.angular),function(e){function t(e,t,n){e.model={header:"View/Edit Posts",allPosts:[],selectedPost:[],postsHaveLoaded:!1,postsEmptyDataString:"No Posts Found!"},e.init=function(){setTimeout(function(){e.getPosts()},500)},e.selectAndGoToPost=function(){t.go("admin.editPost",{postId:e.model.selectedPost[0]._id})},e.getPosts=function(){n.get("/api/posts/all").success(function(t){e.model.postsHaveLoaded=!0,e.model.allPosts=t,e.model.allPosts=e.model.allPosts.sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}),e.model.allPosts[0].selected=!0}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("ViewPostsController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"Brand-Spankin New Post",post:{heading:void 0,date:Date.now(),content:void 0,author:void 0,published:!1},dateOptions:{maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},dateFormats:["longDate","dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy"],defaultDateFormat:"longDate"},e.editingContent=!1,e.defaultTinymceOptions.setup=function(t){t.on("blur",function(t){e.editingContent=!1,e.$apply()})},e.$watch("editingContent",function(e,t){1==e&&0==t&&$timeout(function(){tinyMCE.activeEditor.focus()},50)}),e.init=function(){},e.datePickerOpen=function(){e.model.datePickerOpen=!0},e.submitPost=function(e){n.post("/api/posts",e).success(function(e){e._id?t.go("admin.editPost",{postId:e._id}):(console.error(e),t.go("error.500"))}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("NewPostController",t)}(window.angular),function(e){function t(e,t,n,o){e.model={header:"Edit Post",post:{},postLoading:!0,datePickerOpen:!1,dateOptions:{maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},dateFormats:["longDate","dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy"],defaultDateFormat:"longDate"},e.editingContent=!1,e.defaultTinymceOptions.setup=function(t){t.on("blur",function(t){e.editingContent=!1,e.$apply()})},e.$watch("editingContent",function(e,t){1==e&&0==t&&o(function(){tinyMCE.activeEditor.focus()},50)}),e.init=function(){setTimeout(function(){e.getPost()},500)},e.datePickerOpen=function(){e.model.datePickerOpen=!0},e.getPost=function(){e.model.postLoading=!0,n.get("/api/posts/"+t.params.postId).success(function(n){n._id||(console.error("Error retrieving post "+t.params.postId),t.go("error.404")),e.model.post=n,e.model.post.date=new Date(e.model.post.date),e.model.postLoading=!1}).error(function(e){console.error(e),t.go("error.500")})},e.submitEdits=function(o){n.put("/api/posts/"+o._id,o).success(function(t){e.getPost()}).error(function(e){console.error(e),t.go("error.500")})},e.deletePost=function(e){n.delete("/api/posts/"+e._id).success(function(e){t.go("admin.viewPosts")}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http","$timeout"],e.module("matting-ly").controller("EditPostController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"Edit Bio",bio:{},bioLoading:!0},e.editingContent=!1,e.defaultTinymceOptions.setup=function(t){t.on("blur",function(t){e.editingContent=!1,e.$apply()})},e.$watch("editingContent",function(e,t){1==e&&0==t&&$timeout(function(){tinyMCE.activeEditor.focus()},50)}),e.init=function(){setTimeout(function(){e.getBio()},500)},e.getBio=function(){e.model.bioLoading=!0,n.get("/api/bio").success(function(t){e.model.bio=t,e.model.bioLoading=!1}).error(function(e){console.error(e),t.go("error.500")})},e.submitEdits=function(o){n.put("/api/bio",o).success(function(t){e.getBio()}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("EditBioController",t)}(window.angular),function(e){function t(e,t,n,o){e.model={header:"Projects",byline:"A few things I've worked on...",headlineImage:"/assets/images/bgs/yellow_flower_sky.jpg",projects:[]},e.init=function(){e.getProjects()},e.getProjects=function(){t.get("/api/projects").success(function(t){o(function(){e.model.projects=t},500)}).error(function(e,t,o,r){n.go("error.oops")})}}t.$inject=["$scope","$http","$state","$timeout"],e.module("matting-ly").controller("ProjectsController",t)}(window.angular),function(e){function t(e,t,n,o){e.model={header:"",byline:"",headlineImage:"",posts:[],postsHaveLoaded:!1},e.init=function(){e.model.header="Zane Mattingly",e.model.byline="Full-stack Developer",e.model.headlineImage="/assets/images/bgs/robot.jpg",e.getPosts()},e.getPosts=function(){n.get("/api/posts").success(function(t){o(function(){e.model.postsHaveLoaded=!0,e.model.posts=t},500)}).error(function(e,n,o,r){t.go("error.oops")})}}t.$inject=["$scope","$state","$http","$timeout"],e.module("matting-ly").controller("HomeController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"",byline:"",headlineImage:""},e.init=function(){e.model.header="About",e.model.byline="A few things about me",e.model.headlineImage="/assets/images/bgs/rings.jpg",e.getBio()},e.getBio=function(){t.get("/api/bio").success(function(t){n(function(){e.model.bio=t},500)}).error(function(e,t,n,o){$state.go("error.oops")})}}t.$inject=["$scope","$http","$timeout"],e.module("matting-ly").controller("AboutController",t)}(window.angular),function(e){function t(e,t){e.model={stateNavs:[],isLoggedIn:!1},e.init=function(){e.model.stateNavs=[{sref:"public.home",text:"Home"},{sref:"public.about",text:"About"},{sref:"public.projects",text:"Projects"}],e.model.isLoggedIn=t.returnFullLoginStatus()}}t.$inject=["$scope","AuthService"],e.module("matting-ly").controller("HeaderController",t)}(window.angular),function(e){function t(e){e.model={socialNavs:[],poweredByLines:[],poweredBy:""},e.init=function(){e.model.socialNavs=[{alt:"LinkedIn",img_src:"/assets/images/social_logos/linkedin.png",href:"https://linkedin.com/in/zanemattingly"},{alt:"Github",img_src:"/assets/images/social_logos/github.png",href:"https://github.com/zmattingly"},{alt:"Instagram",img_src:"/assets/images/social_logos/instagram.png",href:"https://instagram.com/zmattingly"},{alt:"Twitter",img_src:"/assets/images/social_logos/twitter.png",href:"https://twitter.com/z_mattingly"}],e.model.poweredByLines=["viewers like you","the efforts of a small, earnest bird","curious electromagnetic behavior","a chest-mounted arc reactor","thirteen tubas sounding in rhythm","IMMENSE hydraulic pressure","pressurized, super-heated steam","a power-generating stationary bike","bees. Hundreds of bees","a potato","the love inside you","our insect overlords","funky yeasts","three hundred dogs synced in parallel","static electricity","the harnessed gravity of a black hole"],e.model.poweredBy=e.getPoweredBy()},e.getPoweredBy=function(){return e.model.poweredByLines[Math.floor(Math.random()*(e.model.poweredByLines.length-1))]}}t.$inject=["$scope"],e.module("matting-ly").controller("FooterController",t)}(window.angular),function(e){function t(e,t,n,o){e.when("/","/home").otherwise("/404"),t.html5Mode({enabled:!0,rewriteLinks:!1}),n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r={templateUrl:"assets/partials/layout/header.html",controller:"HeaderController"},i={templateUrl:"assets/partials/layout/footer.html",controller:"FooterController"};o.state("public",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html"}).state("public.home",{url:"/home",views:{header:r,content:{templateUrl:"assets/partials/public/home.html",controller:"HomeController"},footer:i},access:{restricted:!1}}).state("public.about",{url:"/about",views:{header:r,content:{templateUrl:"assets/partials/public/about.html",controller:"AboutController"},footer:i},access:{restricted:!1}}).state("public.projects",{url:"/projects",views:{header:r,content:{templateUrl:"assets/partials/public/projects.html",controller:"ProjectsController"},footer:i},access:{restricted:!1}}).state("auth",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html",url:"/auth"}).state("admin",{abstract:!0,templateUrl:"assets/partials/layout/adminWrapper.html",url:"/admin"}).state("admin.viewPosts",{url:"/posts",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/viewPosts.html",controller:"ViewPostsController"},footer:i},access:{restricted:!0}}).state("admin.newPost",{url:"/posts/new",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/newPost.html",controller:"NewPostController"},footer:i},access:{restricted:!0}}).state("admin.editPost",{url:"/posts/:postId",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/editPost.html",controller:"EditPostController"},footer:i},access:{restricted:!0}}).state("admin.editBio",{url:"/bio",views:{header:r,content:{templateUrl:"assets/partials/admin/bio/editBio.html",controller:"EditBioController"},footer:i},access:{restricted:!0}}).state("error",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html"}).state("error.oops",{url:"/uhoh",views:{header:r,content:{templateUrl:"assets/partials/errors/oops.html"},footer:i},access:{restricted:!1}}).state("error.404",{url:"/404",views:{header:r,content:{templateUrl:"assets/partials/errors/404.html"},footer:i},access:{restricted:!1}}).state("error.403",{url:"/403",views:{header:r,content:{templateUrl:"assets/partials/errors/403.html"},footer:i},access:{restricted:!1}}).state("error.500",{url:"/500",views:{header:r,content:{templateUrl:"assets/partials/errors/500.html"},footer:i},access:{restricted:!1}})}t.$inject=["$urlRouterProvider","$locationProvider","$httpProvider","$stateProvider"],e.module("matting-ly.routing",["ui.router"]).config(t)}(window.angular),function(e){function t(e,t,n){e.state=t,e.defaultTinymceOptions={height:300,plugins:"code hr link media",menu:{format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"link media | hr"}},toolbar:"formatselect | undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | indent outdent blockquote | removeformat | code"}}t.$inject=["$scope","$state","$filter"],e.module("matting-ly").controller("MainController",t)}(window.angular),function(e){function t(e,t,n){e.model={error:"",disabled:!1,loginForm:{username:"",password:""},isLoggedIn:!1},e.init=function(){n.isLoggedIn()?t.go("admin.viewPosts"):n.getAccountStatus().then(function(){n.isLoggedIn()&&t.go("admin.viewPosts")})},e.dropdownInit=function(){n.getAccountStatus().then(function(){e.model.isLoggedIn=n.isLoggedIn()})},e.login=function(){e.model.error="",e.model.disabled=!0,n.login(e.model.loginForm.username,e.model.loginForm.password).then(function(){t.go("admin.viewPosts")}).catch(function(){e.model.error="Invalid username and/or password",e.model.disabled=!1,e.model.loginForm={}})},e.logout=function(){n.logout().then(function(){t.go("public.home",{},{reload:!0})}).catch(function(){t.go("error.oops")})}}t.$inject=["$scope","$state","AuthService"],e.module("matting-ly").controller("LoginController",t)}(window.angular),function(e){function t(e,t,n){function o(){i().then(function(){return r()})}function r(){return c}function i(){return n.get("/auth/account").success(function(e){c=!!e._id}).error(function(e){c=!1})}function l(t,o){var r=e.defer();return n.post("/auth/login",{username:t,password:o}).success(function(e,t){200==t&&e.status?(c=!0,r.resolve()):(c=!1,r.reject())}).error(function(e){c=!1,r.reject()}),r.promise}function a(){var t=e.defer();return n.get("/auth/logout").success(function(e){c=!1,t.resolve()}).error(function(e){c=!1,t.reject()}),t.promise}function s(t,o){var r=e.defer();return n.post("/auth/register",{username:t,password:o}).success(function(e,t){200==t&&e.status?r.resolve():r.reject()}).error(function(e){r.reject()}),r.promise}var c=!1;return{isLoggedIn:r,getAccountStatus:i,returnFullLoginStatus:o,login:l,logout:a,register:s}}t.$inject=["$q","$timeout","$http"],e.module("matting-ly").factory("AuthService",t)}(window.angular),function(e){function t(){return function(e){return e?"Yes":"No"}}t.$inject=[],e.module("matting-ly").filter("yesNo",t)}(window.angular),function(e){function t(e){return function(t){return e.trustAsHtml(t)}}t.$inject=["$sce"],e.module("matting-ly").filter("trust",t)}(window.angular),function(e){function t(e){return{link:function(t,n,o){o.$observe("focusWhen",function(t){t&&e(function(){n[0].focus()})})}}}t.$inject=["$timeout"],e.module("matting-ly").directive("focusWhen",t)}(window.angular),function(e){function t(){return{restrict:"A",scope:!1,link:function(e,t,n){t.addClass("ng-hide");var o=new Image;o.onload=function(){e.$apply(function(){t.removeClass("ng-hide")})},o.src=n.delayDisplayTilImageLoaded}}}t.$inject=[],e.module("matting-ly").directive("delayDisplayTilImageLoaded",t)}(window.angular),function(e){function t(){return{restrict:"A",scope:!1,link:function(e,t,n){var o=new Image;o.onload=function(){e.$apply(function(){t.addClass(n.delayedClasses)})},o.src=n.delayClassTilImageLoaded}}}t.$inject=[],e.module("matting-ly").directive("delayClassTilImageLoaded",t)}(window.angular),function(e){function t(e){return{restrict:"A",scope:{},link:function(t,n,o){n.on("click",function(){e.history.back()})}}}t.$inject=["$window"],e.module("matting-ly").directive("backButton",t)}(window.angular),function(e){e.module("matting-ly.selectionTable",["selectionModel","anguFixedHeaderTable","mattingly/selectionTable/template/selectionTable.html"])}(window.angular),function(e){function t(e){return function(t,n){var o=n.split(":"),r=o.shift()||"filter";"undefined"===r&&(r="filter");var i=e(r);return o.unshift(t),i.apply(null,o)}}t.$inject=["$filter"],e.module("matting-ly.selectionTable").filter("meta",t)}(window.angular),function(e){function t(){var t=function(){function e(){if(n.isFocused=!1,n.data=[],n.columns=[],n.headers=[],n.reverse=!0,n.orderby=null,n.selectedItems=[],n.selectionMode||(n.selectionMode="'multiple'"),n.emptyDataString||(n.emptyDataString="No Results Found"),n.menuOptions||(n.menuOptions=[]),n.onChange||(n.onChange=function(){}),n.onEnterKeypress&&!n.useKeyboardNavigation)throw"onEnterKeypress must be used with useKeyboardNavigation"}function t(e,t){return e[t]}var n=this;e(),n.sort=function(e){n.reverse=n.orderby===e&&!n.reverse,n.orderby=e},n.getRowCols=function(e){var o=[];return n.columns.forEach(function(n){o.push({value:n.key.split(".").reduce(t,e),filter:n.filter,prepend:n.prepend,append:n.append})}),o}},n=function(t,n,o,r){r.$render=function(){t.vm.data=r.$modelValue,t.vm.orderby=t.vm.initialOrderBy},e.element(n[0].querySelectorAll("tbody")).css({"max-height":t.vm.maxTableHeight?t.vm.maxTableHeight+"px":"inherit"});for(var i=n.find("thead").find("tr").children(),l=0;l<i.length;l++){var a=i[l];t.vm.columns.push({key:a.hasAttribute("key")?a.getAttribute("key"):null,filter:a.hasAttribute("filter")?a.getAttribute("filter"):null,prepend:a.hasAttribute("prepend")?a.getAttribute("prepend"):null,append:a.hasAttribute("append")?a.getAttribute("append"):null}),t.vm.headers.push({key:a.hasAttribute("key")?a.getAttribute("key"):null,value:a.innerText})}};return{restrict:"E",scope:{loading:"=",dataHasLoaded:"=",tableClass:"@",maxTableHeight:"@",selectionMode:"@",initialOrderBy:"@",emptyDataString:"=?",selectedItems:"=?",useKeyboardNavigation:"=?",onEnterKeypress:"=?",onChange:"=?",focusWhen:"=?"},require:"ngModel",link:n,controller:t,controllerAs:"vm",bindToController:!0,templateUrl:"mattingly/selectionTable/template/selectionTable.html",transclude:!0}}t.$inject=[],e.module("matting-ly.selectionTable").directive("selectionTable",t),e.module("mattingly/selectionTable/template/selectionTable.html",[]).run(["$templateCache",function(e){e.put("mattingly/selectionTable/template/selectionTable.html",'<table ng-show="vm.data.length"\n       fixed-header\n       class="table table-bordered table-striped {{ vm.tableClass }}" tabindex="0" focus-when="{{ vm.data.length }}">\n    <thead>\n        <tr ng-transclude></tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="row in vm.data | orderBy:vm.orderby:vm.reverse"\n            selection-model\n            selection-model-type="\'basic\'"\n            selection-model-mode="{{ vm.selectionMode }}"\n            selection-model-selected-items="vm.selectedItems"\n            selection-model-on-change="vm.onChange(row)"\n            selection-model-on-enter-keypress="vm.onEnterKeypress(row)"\n            selection-model-use-keyboard-navigation="vm.useKeyboardNavigation"\n        >\n            <td ng-repeat="col in columns = (columns || vm.getRowCols(row)) track by $index">\n                {{ col.prepend }}{{ col.value | meta:col.filter }}{{ col.append }}\n            </td>\n        </tr>\n    </tbody>\n</table>\n<div ng-hide="vm.data.length || vm.dataHasLoaded">\n    <div class="alert alert-info text-center"><strong>{{ vm.emptyDataString }}</strong></div>\n</div>\n')}])}(window.angular),function(e){function t(){var t=function(t,n,o,r,i){i(t,function(o){var i;i="<th",i+=' key="'+t.key+'"',i+=' filter="'+t.filter+'"',t.append&&(i+=' append="'+t.append+'"'),t.prepend&&(i+=' prepend="'+t.prepend+'"'),i+=">",i+=o.html(),i+="</th>";var l=e.element(i);l.on("click",function(){t.$apply(function(){r.sort(t.key),l.addClass("sorted "+t.reverse)})}),n.replaceWith(l)})};return{restrict:"E",transclude:!0,require:"^selectionTable",scope:{key:"@",filter:"@",append:"@",prepend:"@"},link:t}}e.module("matting-ly.selectionTable").directive("selectionTableColumn",t)}(window.angular),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,o,r,i){i=i||{};var l="ui-tinymce";return i.baseUrl&&(tinymce.baseURL=i.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(a,s,c,u){function d(e){e?(f(),p&&p.getBody().setAttribute("contenteditable",!1)):(f(),p&&!p.settings.readonly&&p.getDoc()&&p.getBody().setAttribute("contenteditable",!0))}function f(){p||(p=tinymce.get(c.id))}if(o.tinymce){var m,p,g=u[0],h=u[1]||null,y={debounce:!0},v=function(t){var n=t.getContent({format:y.format}).trim();n=r.trustAsHtml(n),g.$setViewValue(n),e.$$phase||a.$digest()};c.$set("id",l+"-"+(new Date).valueOf()),m={},angular.extend(m,a.$eval(c.uiTinymce));var b=function(e){var t;return function(o){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),v(e))}(o)},e)}}(400),$={setup:function(t){t.on("init",function(){g.$render(),g.$setPristine(),g.$setUntouched(),h&&h.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){return y.debounce?void b(t):(t.save(),void v(t))}),t.on("blur",function(){s[0].blur(),g.$setTouched(),e.$$phase||a.$digest()}),t.on("remove",function(){s.remove()}),i.setup&&i.setup(t,{updateView:v}),m.setup&&m.setup(t,{updateView:v})},format:m.format||"html",selector:"#"+c.id};angular.extend(y,i,m,$),n(function(){y.baseURL&&(tinymce.baseURL=y.baseURL);var e=tinymce.init(y);e&&"function"==typeof e.then?e.then(function(){d(a.$eval(c.ngDisabled))}):d(a.$eval(c.ngDisabled))}),g.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),g.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),g.$render=function(){f();var e=g.$viewValue?r.getTrustedHtml(g.$viewValue):"";p&&p.getDoc()&&(p.setContent(e),p.fire("change"))},c.$observe("disabled",d),a.$on("$tinymce:refresh",function(e,n){var o=c.id;if(angular.isUndefined(n)||n===o){var r=s.parent(),i=s.clone();i.removeAttr("id"),i.removeAttr("style"),i.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,o),r.append(t(i)(a))}}),a.$on("$destroy",function(){f(),p&&(p.remove(),p=null)})}}}}]),angular.module("selectionModel",[]),angular.module("selectionModel").directive("selectionModelIgnore",[function(){"use strict";return{restrict:"A",link:function(e,t,n){var o=function(e){e.selectionModelIgnore=!0,e.originalEvent&&(e.originalEvent.selectionModelIgnore=!0)};t.on("click",function(t){n.selectionModelIgnore&&!e.$eval(n.selectionModelIgnore)||o(t)})}}}]),angular.module("selectionModel").directive("selectionModel",["selectionStack","uuidGen","selectionModelOptions","$document",function(e,t,n,o){"use strict";return{restrict:"A",link:function(r,i,l){function a(){for(var e,t,n=i,o=!1,r=5;o!==!0&&r>0;)n=n.parent(),e=n[0]?n[0].tagName:"","TABLE"!==e&&"UL"!==e&&"OL"!==e&&"NAV"!==e||(o=!0,t=n[0]),r--;if(!t)throw"selection-model-use-keyboard-navigation must be used inside of a table, ul, ol, or nav element";return t}var s=n.get(),c=s.selectedAttribute,u=s.selectedClass,d=s.type,f=s.mode,m=s.cleanupStrategy,p=s.useKeyboardNavigation,g=r.$eval(l.selectionModelType)||d,h=r.$eval(l.selectionModelMode)||f,y=/^multi(ple)?(-additive)?$/.test(h),v=/^multi(ple)?-additive/.test(h),b=r.$eval(l.selectionModelSelectedAttribute)||c,$=r.$eval(l.selectionModelSelectedClass)||u,w=r.$eval(l.selectionModelCleanupStrategy)||m,S=r.$eval(l.selectionModelUseKeyboardNavigation)||p,C=l.selectionModelOnEnterKeypress;if(C&&!S)throw"selection-model-on-enter-keypress must be used with selection-model-use-keyboard-navigation set to true";var T=l.selectionModelOnChange,A=l.ngRepeat;if(!A)throw"selectionModel must be used along side ngRepeat";var E=r.$eval(l.selectionModelSelectedItems),k=function(){if(!y)return null;var e="data-selection-model-stack-id",n=i.attr(e);return n?n:(n=i.parent().attr(e))?(i.attr(e,n),n):(n=t.create(),i.attr(e,n),i.parent().attr(e,n),n)}(),M=A.split(/\sin\s|\strack\sby\s/g),P=r.$eval(M[0]),I=M.length>2,L=function(){if(P[b]?i.addClass($):i.removeClass($),"checkbox"===g){var e=[];angular.forEach(i.find("input"),function(t){t=angular.element(t),"checkbox"===t.attr("type")&&e.push(t)}),e.length&&e[0].prop("checked",P[b])}},x=function(){return r.$eval(M[1])},j=function(){return r.$eval(M[1].split(/[|=]/)[0])},D=function(e){var t,n=angular.isArray(E),o=angular.isArray(e)&&2===e.length,r=j(),i=0,l=!1;n&&(E.length=0),angular.forEach(r,function(r){o?(t=e.indexOf(r),t>-1?(i++,l=!1,e.splice(t,1)):l=1!==i):l=r!==e,l?r[b]=!1:n&&r[b]&&E.push(r)})},N=function(e){var t=x(),n=!1,o=!1;e=e||P,angular.forEach(t,function(t){o=o||t===P,n=n||t===e;var r=n+o===1;(r||t===P||t===e)&&(t[b]=!0)})},H=function(t){if(!(t.selectionModelIgnore||t.originalEvent&&t.originalEvent.selectionModelIgnore||t.selectionModelClickHandled||t.originalEvent&&t.originalEvent.selectionModelClickHandled)){t.selectionModelClickHandled=!0,t.originalEvent&&(t.originalEvent.selectionModelClickHandled=!0);var n=t.ctrlKey||t.metaKey||v,o=t.shiftKey,l=t.target||t.srcElement,a="checkbox"===g&&"INPUT"===l.tagName&&"checkbox"===l.type;if("LABEL"===l.tagName){var s=angular.element(l).attr("for");if(s){var c,u=i[0].getElementsByTagName("INPUT");for(c=u.length;c--;)if(u[c].id===s)return}else if(l.getElementsByTagName("INPUT").length)return}if(o&&y&&!a)return n||r.$apply(function(){D([P,e.peek(k)])}),N(e.peek(k)),void r.$apply();if(n||o||a){var d=!P[b];return y||D(P),P[b]=d,P[b]&&e.push(k,P),void r.$apply()}D(P),r.$apply(),P[b]=!0,e.push(k,P),r.$apply()}},O=function(){var e=o[0].activeElement,t=a();return e===t},B=function(t){var n,o=t.keyCode;if(O()){switch(o){case 38:n="arrowUp";break;case 40:n="arrowDown";break;case 13:n="enter";break;default:return}if("enter"===n)return void r.$eval(C);var i,l=t.shiftKey,a=x(),s=a.length,c=e.peek(k)?e.peek(k):a[0],u=a.indexOf(c);u>-1&&("arrowDown"===n&&u+1<=s?i=a[u+1]:"arrowUp"===n&&u-1>=0&&(i=a[u-1]),i&&(!l&&y&&(D(i),r.$apply()),i[b]=!0,e.push(k,i),r.$apply()))}},U=function(){var e="data-selection-model-keypress-bound";i.parent().attr(e)||(i.parent().attr(e,!0),o.on("keydown",B))};S&&U();var q=function(){if(angular.isArray(E)){var e=E.indexOf(P);P[b]?-1===e&&E.push(P):-1<e&&E.splice(e,1)}};if(i.on("click",H),"checkbox"===g){var F=i.find("input");F[0]&&"checkbox"===F[0].type&&i.find("input").on("click",H)}L(),q(),"deselect"===w&&r.$on("$destroy",function(){var e=P[b];P[b]=!1,q(),T&&e&&r.$eval(T)}),r.$watch(M[0]+"."+b,function(e,t){e!==t&&(y||!e||t||(D(P),P[b]=!0),L(),q(),T&&r.$eval(T))}),I&&r.$watch(M[0],function(e){P=e})}}}]),angular.module("selectionModel").provider("selectionModelOptions",[function(){"use strict";var e={selectedAttribute:"selected",selectedClass:"selected",type:"basic",mode:"single",cleanupStrategy:"none",useKeyboardNavigation:!1};this.set=function(t){angular.extend(e,t)},this.$get=function(){var t={get:function(){return angular.copy(e)}};return t}}]),angular.module("selectionModel").service("selectionStack",function(){"use strict";var e={},t=1e3,n={};return e.push=function(e,o){n.hasOwnProperty(e)||(n[e]=[]);var r=n[e];for(r.push(o);r.length>t;)r.shift();return r.length},e.pop=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.pop()},e.peek=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.length?t[t.length-1]:void 0},e}),angular.module("selectionModel").service("uuidGen",function(){"use strict";var e={},t=["0","0","0"];return e.create=function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57===e)return t[n]="A",t.join("");if(90!==e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},e});var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,o,r,i,l,a){"use strict";var s={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};s.duScrollTo=function(t,n,o,r){var i;if(angular.isElement(t)?i=this.duScrollToElement:angular.isDefined(o)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var l=d(this);return c(l)?e.scrollTo(t,n):(l.scrollLeft=t,void(l.scrollTop=n))};var f,m;s.duScrollToAnimated=function(e,i,l,s){l&&!s&&(s=r);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),p=Math.round(i-u),g=null,h=0,y=this,v=function(e){(!e||h&&e.which>0)&&(a&&y.unbind(a,v),n(f),m.reject(),f=null)};if(f&&v(),m=t.defer(),0===l||!d&&!p)return 0===l&&y.duScrollTo(e,i),m.resolve(),m.promise;var b=function(e){null===g&&(g=e),h=e-g;var t=h>=l?1:s(h/l);y.scrollTo(c+Math.ceil(d*t),u+Math.ceil(p*t)),1>t?f=o(b):(a&&y.unbind(a,v),f=null,m.resolve())};return y.duScrollTo(c,u),a&&y.bind(a,v),f=o(b),m.promise},s.duScrollToElement=function(e,t,n,o){var r=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=l);var i=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(r)&&(i-=r.getBoundingClientRect().top),this.duScrollTo(0,i,n,o)},s.duScrollLeft=function(t,n,o){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,o);var r=d(this);return c(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},s.duScrollTop=function(t,n,o){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,o);var r=d(this);return c(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},s.duScrollToElementAnimated=function(e,t,n,o){return this.duScrollToElement(e,t,n||i,o)},s.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||i,n)},s.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||i,n)},angular.forEach(s,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,o){if(e[n])return e[n];for(var r,i=n.substr(0,1).toUpperCase()+n.substr(1),l=0;l<t.length;l++)if(r=t[l]+i,e[r])return e[r];return o}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,o=function(e,o){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),l=t(function(){e(r+i)},i);return n=r+i,l};return e("requestAnimationFrame",o)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,o,r,i,l,a,s){"use strict";var c=function(r){var c=!1,u=!1,d=function(){u=!1;var t,l=r.container,c=l[0],d=0;if("undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE)d=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight;else{var f=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=f}var m,p,g,h,y,v,b=a&&t?"bottom":"top";for(h=r.spies,p=r.currentlyActive,g=void 0,m=0;m<h.length;m++)y=h[m],v=y.getTargetPosition(),v&&(a&&t||v.top+y.offset-d<20&&(i||-1*v.top+d)<v.height)&&(!g||g[b]<v[b])&&(g={spy:y},g[b]=v[b]);g&&(g=g.spy),p===g||i&&!g||(p&&(p.$element.removeClass(s),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),g&&(g.$element.addClass(s),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),r.currentlyActive=g)};return l?function(){c?u=!0:(d(),c=t(function(){c=!1,u&&d()},l,!1))}:d},u={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){f(e)}),t},f=function(e){var t=e.$id,n=u[t],o=n.container;o&&o.off("scroll",n.handler),delete u[t]},m=d(e),p=function(e){return u[e.$id]?u[e.$id]:e.$parent?p(e.$parent):u[m]},g=function(e){var t,n,o=e.$scope;if(o)return p(o);for(n in u)if(t=u[n],-1!==t.spies.indexOf(e))return t},h=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},y=function(e){var t=g(e);t&&(t.spies.push(e),t.container&&h(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},v=function(t){var n=g(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var o=n.spies.indexOf(t);-1!==o&&n.spies.splice(o,1),t.$element=null};return{addSpy:y,removeSpy:v,createContext:d,destroyContext:f,getContextForScope:p}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var o=e.$id;return t[o]=n,o},o=function(e){return t[e.$id]?e.$id:e.$parent?o(e.$parent):void 0},r=function(n){var r=o(n);return r?t[r]:e},i=function(e){var n=o(e);n&&delete t[n]};return{getContainerId:o,getContainer:r,setContainer:n,
removeContainer:i}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(o,r,i){r.on("click",function(r){if(i.href&&-1!==i.href.indexOf("#")||""!==i.duSmoothScroll){var l=i.href?i.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duSmoothScroll,a=document.getElementById(l)||document.getElementsByName(l)[0];if(a&&a.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var s=i.offset?parseInt(i.offset,10):t,c=i.duration?parseInt(i.duration,10):e,u=n.getContainer(o);u.duScrollToElement(angular.element(a),isNaN(s)?0:s,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,o){return{pre:function(t,n,o,r){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,o){return{pre:function(t,n,o,r){o.$observe("duScrollContainer",function(o){angular.isString(o)&&(o=document.getElementById(o)),o=angular.isElement(o)?angular.element(o):n,e.setContainer(t,o),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,o){"use strict";var r=function(e,t,n,o){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=o};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(i,l,a){var s,c=a.ngHref||a.href;if(c&&-1!==c.indexOf("#")?s=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duScrollspy?s=a.duScrollspy:a.duSmoothScroll&&(s=a.duSmoothScroll),s){var u=n(function(){var n=new r(s,i,l,(-(a.offset?parseInt(a.offset,10):t)));e.addSpy(n),i.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=o.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));i.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);i.$on("$destroy",function(){n.cancel(u)})}}}}]),function(){function e(e){function t(t,n,o,r){function i(){var e=a.querySelector("tbody tr:first-child td:first-child");return e&&!e.style.width}function l(){angular.element(a.querySelectorAll("thead, tbody, tfoot")).css("display",""),e(function(){angular.forEach(a.querySelectorAll("tr:first-child th"),function(e,t){var n=a.querySelector("tbody tr:first-child td:nth-child("+(t+1)+")"),o=a.querySelector("tfoot tr:first-child td:nth-child("+(t+1)+")"),r=n?n.offsetWidth:e.offsetWidth;n&&(n.style.width=r+"px"),e&&(e.style.width=r+"px"),o&&(o.style.width=r+"px")}),angular.element(a.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(a.querySelectorAll("tbody")).css({display:"block",height:o.tableHeight||"inherit",overflow:"auto"});var e=a.querySelector("tbody"),t=e.offsetWidth-e.clientWidth;if(t>0){t-=2;var n=a.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-t+"px"}})}var a=n[0];t.$watch(i,function(e){e&&l()})}return{restrict:"A",link:t}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",e),e.$inject=["$timeout"]}();