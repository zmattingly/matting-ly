!function(e){function t(e,t,n){e.$state=t,e.$on("$stateChangeStart",function(e,o,r,i,l,a){n.getAccountStatus().then(function(){o.access.restricted&&!n.isLoggedIn()&&(e.preventDefault(),t.go("public.home"))})})}var n=e.module("matting-ly",["matting-ly.routing","matting-ly.selectionTable","ngResource","ui.bootstrap","ui.bootstrap.tpls","ui.tinymce"]);t.$inject=["$rootScope","$state","AuthService"],n.run(t)}(window.angular),function(e){function t(e,t,n){e.model={header:"View/Edit Posts",allPosts:[],selectedPost:[],postsHaveLoaded:!1,postsEmptyDataString:"No Posts Found!"},e.init=function(){setTimeout(function(){e.getPosts()},500)},e.selectAndGoToPost=function(){t.go("admin.editPost",{postId:e.model.selectedPost[0]._id})},e.getPosts=function(){n.get("/api/posts/all").success(function(t){e.model.postsHaveLoaded=!0,e.model.allPosts=t,e.model.allPosts[0].selected=!0}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("ViewPostsController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"Brand-Spankin New Post",post:{heading:void 0,date:Date.now(),content:void 0,author:void 0,published:!1},dateOptions:{maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},dateFormats:["longDate","dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy"],defaultDateFormat:"longDate"},e.init=function(){},e.datePickerOpen=function(){e.model.datePickerOpen=!0},e.submitPost=function(e){n.post("/api/posts",e).success(function(e){e._id?t.go("admin.editPost",{postId:e._id}):(console.error(e),t.go("error.500"))}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("NewPostController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"Edit Post",post:{},postLoading:!0,datePickerOpen:!1,dateOptions:{maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},dateFormats:["longDate","dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy"],defaultDateFormat:"longDate"},e.init=function(){setTimeout(function(){e.getPost()},500)},e.datePickerOpen=function(){e.model.datePickerOpen=!0},e.getPost=function(){e.model.postLoading=!0,n.get("/api/posts/"+t.params.postId).success(function(n){n._id||(console.error("Error retrieving post "+t.params.postId),t.go("error.404")),e.model.post=n,e.model.post.date=new Date(e.model.post.date),e.model.postLoading=!1}).error(function(e){console.error(e),t.go("error.500")})},e.submitEdits=function(o){n.put("/api/posts/"+o._id,o).success(function(t){e.getPost()}).error(function(e){console.error(e),t.go("error.500")})},e.deletePost=function(e){n.delete("/api/posts/"+e._id).success(function(e){t.go("admin.viewPosts")}).error(function(e){console.error(e),t.go("error.500")})}}t.$inject=["$scope","$state","$http"],e.module("matting-ly").controller("EditPostController",t)}(window.angular),function(e){e.module("matting-ly.selectionTable",["duScroll","matting-ly.selectionModel","anguFixedHeaderTable"]).directive("selectionTable",[function(){var e=function(){function e(){n.isFocused=!1,n.data=[],n.columns=[],n.headers=[],n.reverse=!0,n.orderby=null,n.selectedItems=[],n.selectionMode||(n.selectionMode="'multiple'"),n.emptyDataString||(n.emptyDataString="No Results Found"),n.menuOptions||(n.menuOptions=[]),n.onEnter||(n.onEnter=function(){}),n.onChange||(n.onChange=function(){})}function t(e,t){return e[t]}var n=this;e(),n.sort=function(e){n.reverse=n.orderby===e&&!n.reverse,n.orderby=e},n.getRowCols=function(e){var o=[];return n.columns.forEach(function(n){o.push({value:n.key.split(".").reduce(t,e),filter:n.filter,prepend:n.prepend,append:n.append})}),o}},t=function(e,t,n,o){o.$render=function(){e.vm.data=o.$modelValue,e.vm.orderby=e.vm.initialOrderBy};for(var r=t.find("thead").find("tr").children(),i=0;i<r.length;i++){var l=r[i];e.vm.columns.push({key:l.hasAttribute("key")?l.getAttribute("key"):null,filter:l.hasAttribute("filter")?l.getAttribute("filter"):null,prepend:l.hasAttribute("prepend")?l.getAttribute("prepend"):null,append:l.hasAttribute("append")?l.getAttribute("append"):null}),e.vm.headers.push({key:l.hasAttribute("key")?l.getAttribute("key"):null,value:l.innerText})}};return{restrict:"E",scope:{loading:"=",dataHasLoaded:"=",onEnter:"=?",onChange:"=?",maxTableHeight:"@",selectionMode:"@",emptyDataString:"=",selectedItems:"=?",initialOrderBy:"@"},require:"ngModel",link:t,controller:e,controllerAs:"vm",bindToController:!0,templateUrl:"/assets/partials/directives/matting-ly-selectiontable.html",transclude:!0}}]).directive("selectionTableColumn",[function(){var t=function(t,n,o,r,i){i(t,function(o){var i;i="<th",i+=' key="'+t.key+'"',i+=' filter="'+t.filter+'"',t.append&&(i+=' append="'+t.append+'"'),t.prepend&&(i+=' prepend="'+t.prepend+'"'),i+=">",i+=o.html(),i+="</th>";var l=e.element(i);l.on("click",function(){t.$apply(function(){r.sort(t.key)})}),n.replaceWith(l)})};return{restrict:"E",transclude:!0,require:"^selectionTable",scope:{key:"@",filter:"@",append:"@",prepend:"@"},link:t}}]).filter("meta",["$filter",function(e){return function(t,n){var o=n.split(":"),r=o.shift()||"filter";"undefined"===r&&(r="filter");var i=e(r);return o.unshift(t),i.apply(null,o)}}])}(window.angular),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,o,r,i){i=i||{};var l="ui-tinymce";return i.baseUrl&&(tinymce.baseURL=i.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(a,s,c,u){function d(e){e?(f(),m&&m.getBody().setAttribute("contenteditable",!1)):(f(),m&&!m.settings.readonly&&m.getDoc()&&m.getBody().setAttribute("contenteditable",!0))}function f(){m||(m=tinymce.get(c.id))}if(o.tinymce){var p,m,g=u[0],h=u[1]||null,v={debounce:!0},y=function(t){var n=t.getContent({format:v.format}).trim();n=r.trustAsHtml(n),g.$setViewValue(n),e.$$phase||a.$digest()};c.$set("id",l+"-"+(new Date).valueOf()),p={},angular.extend(p,a.$eval(c.uiTinymce));var $=function(e){var t;return function(o){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),y(e))}(o)},e)}}(400),b={setup:function(t){t.on("init",function(){g.$render(),g.$setPristine(),g.$setUntouched(),h&&h.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){return v.debounce?void $(t):(t.save(),void y(t))}),t.on("blur",function(){s[0].blur(),g.$setTouched(),e.$$phase||a.$digest()}),t.on("remove",function(){s.remove()}),i.setup&&i.setup(t,{updateView:y}),p.setup&&p.setup(t,{updateView:y})},format:p.format||"html",selector:"#"+c.id};angular.extend(v,i,p,b),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL);var e=tinymce.init(v);e&&"function"==typeof e.then?e.then(function(){d(a.$eval(c.ngDisabled))}):d(a.$eval(c.ngDisabled))}),g.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),g.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),g.$render=function(){f();var e=g.$viewValue?r.getTrustedHtml(g.$viewValue):"";m&&m.getDoc()&&(m.setContent(e),m.fire("change"))},c.$observe("disabled",d),a.$on("$tinymce:refresh",function(e,n){var o=c.id;if(angular.isUndefined(n)||n===o){var r=s.parent(),i=s.clone();i.removeAttr("id"),i.removeAttr("style"),i.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,o),r.append(t(i)(a))}}),a.$on("$destroy",function(){f(),m&&(m.remove(),m=null)})}}}}]);var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,o,r,i,l,a){"use strict";var s={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};s.duScrollTo=function(t,n,o,r){var i;if(angular.isElement(t)?i=this.duScrollToElement:angular.isDefined(o)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var l=d(this);return c(l)?e.scrollTo(t,n):(l.scrollLeft=t,void(l.scrollTop=n))};var f,p;s.duScrollToAnimated=function(e,i,l,s){l&&!s&&(s=r);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),m=Math.round(i-u),g=null,h=0,v=this,y=function(e){(!e||h&&e.which>0)&&(a&&v.unbind(a,y),n(f),p.reject(),f=null)};if(f&&y(),p=t.defer(),0===l||!d&&!m)return 0===l&&v.duScrollTo(e,i),p.resolve(),p.promise;var $=function(e){null===g&&(g=e),h=e-g;var t=h>=l?1:s(h/l);v.scrollTo(c+Math.ceil(d*t),u+Math.ceil(m*t)),1>t?f=o($):(a&&v.unbind(a,y),f=null,p.resolve())};return v.duScrollTo(c,u),a&&v.bind(a,y),f=o($),p.promise},s.duScrollToElement=function(e,t,n,o){var r=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=l);var i=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(r)&&(i-=r.getBoundingClientRect().top),this.duScrollTo(0,i,n,o)},s.duScrollLeft=function(t,n,o){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,o);var r=d(this);return c(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},s.duScrollTop=function(t,n,o){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,o);var r=d(this);return c(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},s.duScrollToElementAnimated=function(e,t,n,o){return this.duScrollToElement(e,t,n||i,o)},s.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||i,n)},s.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||i,n)},angular.forEach(s,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,o){if(e[n])return e[n];for(var r,i=n.substr(0,1).toUpperCase()+n.substr(1),l=0;l<t.length;l++)if(r=t[l]+i,e[r])return e[r];return o}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,o=function(e,o){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),l=t(function(){e(r+i)},i);return n=r+i,l};return e("requestAnimationFrame",o)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,o,r,i,l,a,s){"use strict";var c=function(r){var c=!1,u=!1,d=function(){u=!1;var t,l=r.container,c=l[0],d=0;if("undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE)d=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight;else{var f=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=f}var p,m,g,h,v,y,$=a&&t?"bottom":"top";for(h=r.spies,m=r.currentlyActive,g=void 0,p=0;p<h.length;p++)v=h[p],y=v.getTargetPosition(),y&&(a&&t||y.top+v.offset-d<20&&(i||-1*y.top+d)<y.height)&&(!g||g[$]<y[$])&&(g={spy:v},g[$]=y[$]);g&&(g=g.spy),m===g||i&&!g||(m&&(m.$element.removeClass(s),e.$broadcast("duScrollspy:becameInactive",m.$element,angular.element(m.getTargetElement()))),g&&(g.$element.addClass(s),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),r.currentlyActive=g)};return l?function(){c?u=!0:(d(),c=t(function(){c=!1,u&&d()},l,!1))}:d},u={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){f(e)}),t},f=function(e){var t=e.$id,n=u[t],o=n.container;o&&o.off("scroll",n.handler),delete u[t]},p=d(e),m=function(e){return u[e.$id]?u[e.$id]:e.$parent?m(e.$parent):u[p]},g=function(e){var t,n,o=e.$scope;if(o)return m(o);for(n in u)if(t=u[n],-1!==t.spies.indexOf(e))return t},h=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=g(e);t&&(t.spies.push(e),t.container&&h(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},y=function(t){var n=g(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var o=n.spies.indexOf(t);-1!==o&&n.spies.splice(o,1),t.$element=null};return{addSpy:v,removeSpy:y,createContext:d,destroyContext:f,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var o=e.$id;return t[o]=n,o},o=function(e){return t[e.$id]?e.$id:e.$parent?o(e.$parent):void 0},r=function(n){var r=o(n);return r?t[r]:e},i=function(e){var n=o(e);n&&delete t[n]};return{getContainerId:o,getContainer:r,setContainer:n,removeContainer:i}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(o,r,i){r.on("click",function(r){if(i.href&&-1!==i.href.indexOf("#")||""!==i.duSmoothScroll){var l=i.href?i.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duSmoothScroll,a=document.getElementById(l)||document.getElementsByName(l)[0];if(a&&a.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var s=i.offset?parseInt(i.offset,10):t,c=i.duration?parseInt(i.duration,10):e,u=n.getContainer(o);u.duScrollToElement(angular.element(a),isNaN(s)?0:s,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,o){return{pre:function(t,n,o,r){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,o){return{pre:function(t,n,o,r){o.$observe("duScrollContainer",function(o){angular.isString(o)&&(o=document.getElementById(o)),o=angular.isElement(o)?angular.element(o):n,e.setContainer(t,o),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,o){"use strict";var r=function(e,t,n,o){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=o};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(i,l,a){var s,c=a.ngHref||a.href;if(c&&-1!==c.indexOf("#")?s=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duScrollspy?s=a.duScrollspy:a.duSmoothScroll&&(s=a.duSmoothScroll),s){var u=n(function(){var n=new r(s,i,l,(-(a.offset?parseInt(a.offset,10):t)));e.addSpy(n),i.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=o.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));i.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);i.$on("$destroy",function(){n.cancel(u)})}}}}]),angular.module("selectionModel",[]),angular.module("selectionModel").directive("selectionModelIgnore",[function(){"use strict";return{restrict:"A",link:function(e,t,n){var o=function(e){e.selectionModelIgnore=!0,e.originalEvent&&(e.originalEvent.selectionModelIgnore=!0)};t.on("click",function(t){(!n.selectionModelIgnore||e.$eval(n.selectionModelIgnore))&&o(t)})}}}]),angular.module("selectionModel").directive("selectionModel",["selectionStack","uuidGen","selectionModelOptions",function(e,t,n){"use strict";return{restrict:"A",link:function(o,r,i){var l=n.get(),a=l.selectedAttribute,s=l.selectedClass,c=l.type,u=l.mode,d=l.cleanupStrategy,f=o.$eval(i.selectionModelType)||c,p=o.$eval(i.selectionModelMode)||u,m=/^multi(ple)?(-additive)?$/.test(p),g=/^multi(ple)?-additive/.test(p),h=o.$eval(i.selectionModelSelectedAttribute)||a,v=o.$eval(i.selectionModelSelectedClass)||s,y=o.$eval(i.selectionModelCleanupStrategy)||d,$=i.selectionModelOnChange,b=i.ngRepeat;if(!b)throw"selectionModel must be used along side ngRepeat";var w=o.$eval(i.selectionModelSelectedItems),S=function(){if(!m)return null;var e="data-selection-model-stack-id",n=r.attr(e);return n?n:(n=r.parent().attr(e))?(r.attr(e,n),n):(n=t.create(),r.attr(e,n),r.parent().attr(e,n),n)}(),C=b.split(/\sin\s|\strack\sby\s/g),M=o.$eval(C[0]),k=C.length>2,A=function(){if(M[h]?r.addClass(v):r.removeClass(v),"checkbox"===f){var e=[];angular.forEach(r.find("input"),function(t){t=angular.element(t),"checkbox"===t.attr("type")&&e.push(t)}),e.length&&e[0].prop("checked",M[h])}},E=function(){return o.$eval(C[1])},T=function(){return o.$eval(C[1].split(/[|=]/)[0])},P=function(e){var t,n=angular.isArray(w),o=angular.isArray(e)&&2===e.length,r=T(),i=0,l=!1;n&&(w.length=0),angular.forEach(r,function(r){o?(t=e.indexOf(r),t>-1?(i++,l=!1,e.splice(t,1)):l=1!==i):l=r!==e,l?r[h]=!1:n&&r[h]&&w.push(r)})},I=function(e){var t=(E(),!1),n=!1;e=e||M,angular.forEach(E(),function(o){n=n||o===M,t=t||o===e;var r=t+n===1;(r||o===M||o===e)&&(o[h]=!0)})},L=function(t){if(!(t.selectionModelIgnore||t.originalEvent&&t.originalEvent.selectionModelIgnore||t.selectionModelClickHandled||t.originalEvent&&t.originalEvent.selectionModelClickHandled)){t.selectionModelClickHandled=!0,t.originalEvent&&(t.originalEvent.selectionModelClickHandled=!0);var n=t.ctrlKey||t.metaKey||g,i=t.shiftKey,l=t.target||t.srcElement,a="checkbox"===f&&"INPUT"===l.tagName&&"checkbox"===l.type;if("LABEL"===l.tagName){var s=angular.element(l).attr("for");if(s){var c,u=r[0].getElementsByTagName("INPUT");for(c=u.length;c--;)if(u[c].id===s)return}else if(l.getElementsByTagName("INPUT").length)return}if(i&&m&&!a)return n||o.$apply(function(){P([M,e.peek(S)])}),I(e.peek(S)),void o.$apply();if(n||i||a){var d=!M[h];return m||P(M),M[h]=d,M[h]&&e.push(S,M),void o.$apply()}P(M),o.$apply(),M[h]=!0,e.push(S,M),o.$apply()}},x=function(){if(angular.isArray(w)){var e=w.indexOf(M);M[h]?-1===e&&w.push(M):e>-1&&w.splice(e,1)}};if(r.on("click",L),"checkbox"===f){var D=r.find("input");D[0]&&"checkbox"===D[0].type&&r.find("input").on("click",L)}A(),x(),"deselect"===y&&o.$on("$destroy",function(){var e=M[h];M[h]=!1,x(),$&&e&&o.$eval($)}),o.$watch(C[0]+"."+h,function(e,t){e!==t&&(m||!e||t||(P(M),M[h]=!0),A(),x(),$&&o.$eval($))}),k&&o.$watch(C[0],function(e){M=e})}}}]),angular.module("selectionModel").provider("selectionModelOptions",[function(){"use strict";var e={selectedAttribute:"selected",selectedClass:"selected",type:"basic",mode:"single",cleanupStrategy:"none"};this.set=function(t){angular.extend(e,t)},this.$get=function(){var t={get:function(){return angular.copy(e)}};return t}}]),angular.module("selectionModel").service("selectionStack",function(){"use strict";var e={},t=1e3,n={};return e.push=function(e,o){n.hasOwnProperty(e)||(n[e]=[]);var r=n[e];for(r.push(o);r.length>t;)r.shift();return r.length},e.pop=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.pop()},e.peek=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.length?t[t.length-1]:void 0},e}),angular.module("selectionModel").service("uuidGen",function(){"use strict";var e={},t=["0","0","0"];return e.create=function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57===e)return t[n]="A",t.join("");if(90!==e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},e}),angular.module("matting-ly.selectionModel",["duScroll"]),angular.module("matting-ly.selectionModel").directive("selectionModelIgnore",[function(){"use strict";return{restrict:"A",link:function(e,t,n){var o=function(e){e.selectionModelIgnore=!0,e.originalEvent&&(e.originalEvent.selectionModelIgnore=!0)};t.on("click",function(t){n.selectionModelIgnore&&!e.$eval(n.selectionModelIgnore)||o(t)})}}}]),angular.module("matting-ly.selectionModel").directive("selectionModel",["selectionStack","uuidGen","selectionModelOptions","$document",function(e,t,n,o){"use strict";return{restrict:"A",link:function(r,i,l){var a=n.get(),s=a.selectedAttribute,c=a.selectedClass,u=a.type,d=a.mode,f=a.cleanupStrategy,p=r.$eval(l.selectionModelType)||u,m=r.$eval(l.selectionModelMode)||d,g=/^multi(ple)?(-additive)?$/.test(m),h=/^multi(ple)?-additive/.test(m),v=r.$eval(l.selectionModelSelectedAttribute)||s,y=r.$eval(l.selectionModelSelectedClass)||c,$=r.$eval(l.selectionModelCleanupStrategy)||f,b=l.selectionModelOnChange,w=l.selectionModelOnEnter,S=l.ngRepeat;if(!S)throw"selectionModel must be used along side ngRepeat";var C=r.$eval(l.selectionModelSelectedItems),M=function(){if(!g)return null;var e="data-selection-model-stack-id",n=i.attr(e);return n?n:(n=i.parent().attr(e))?(i.attr(e,n),n):(n=t.create(),i.attr(e,n),i.parent().attr(e,n),n)}(),k=S.split(/\sin\s|\strack\sby\s/g),A=r.$eval(k[0]),E=k.length>2,T=!1,P=function(){for(var e,t,n=i,o=null,r=5;t!==!0&&r>0;)n=n.parent(),e=n[0]?n[0].tagName:"","TBODY"!==e&&"UL"!==e&&"OL"!==e||(t=!0,o=n),r--;return o},I=P(),L=function(){if(A[v]?(i.addClass(y),I&&!T&&I.scrollToElement(i,50,750)):i.removeClass(y),"checkbox"===p){var e=i.find("input");e.prop("checked",A[v])}T=!1},x=function(){return r.$eval(k[1])},D=function(){return r.$eval(k[1].split(/[|=]/)[0])},j=function(e){var t,n=angular.isArray(C),o=angular.isArray(e)&&2===e.length,r=D(),i=0,l=!1;n&&(C.length=0),angular.forEach(r,function(r){o?(t=e.indexOf(r),t>-1?(i++,l=!1,e.splice(t,1)):l=1!==i):l=r!==e,l?r[v]=!1:n&&r[v]&&C.push(r)})},O=function(e){var t=(x(),!1),n=!1;e=e||A,angular.forEach(x(),function(o){n=n||o===A,t=t||o===e;var r=t+n===1;(r||o===A||o===e)&&(o[v]=!0)})},N=function(){for(var e,t,n,r=o[0].activeElement,l=i,a=5;t!==!0&&a>0;)l=l.parent(),e=l[0]?l[0].tagName:"","TABLE"!==e&&"UL"!==e&&"OL"!==e||(t=!0,n=l),a--;return!!n&&r===n[0]},H=function(t){T=!1;var n,o=t.which||t.keyCode;switch(o){case 38:n="arrowUp";break;case 40:n="arrowDown";break;case 13:n="enter";break;default:return}if(N()){if("enter"===n)return void r.$eval(w);t.preventDefault();var i,l=(t.ctrlKey||t.metaKey,t.shiftKey,x()),a=l.length,s=e.peek(M)?e.peek(M):l[0],c=l.indexOf(s);c>-1&&("arrowDown"===n&&c+1<=a?i=l[c+1]:"arrowUp"===n&&c-1>=0&&(i=l[c-1]),i&&(j(i),r.$apply(),i[v]=!0,e.push(M,i),r.$apply()))}},U=function(){var e="data-selection-model-keypress-bound";i.parent().attr(e)||(o.bind("keydown",H),i.parent().attr(e,!0))};U();var B=function(t){if(T=!0,!(t.selectionModelIgnore||t.originalEvent&&t.originalEvent.selectionModelIgnore||t.selectionModelClickHandled||t.originalEvent&&t.originalEvent.selectionModelClickHandled)){t.selectionModelClickHandled=!0,t.originalEvent&&(t.originalEvent.selectionModelClickHandled=!0);var n=t.ctrlKey||t.metaKey||h,o=t.shiftKey,l=t.target||t.srcElement,a="checkbox"===p&&"INPUT"===l.tagName&&"checkbox"===l.type;if("LABEL"===l.tagName){var s=angular.element(l).attr("for");if(s){var c,u=i[0].getElementsByTagName("INPUT");for(c=u.length;c--;)if(u[c].id===s)return}else if(l.getElementsByTagName("INPUT").length)return}if(o&&g&&!a)return n||r.$apply(function(){j([A,e.peek(M)])}),O(e.peek(M)),void r.$apply();if(n||o||a){var d=!A[v];return g||j(A),A[v]=d,A[v]&&e.push(M,A),void r.$apply()}j(A),r.$apply(),A[v]=!0,e.push(M,A),r.$apply()}},F=function(){if(angular.isArray(C)){var e=C.indexOf(A);A[v]?-1===e&&C.push(A):-1<e&&C.splice(e,1)}};if(i.on("click",B),"checkbox"===p){var q=i.find("input");q[0]&&"checkbox"===q[0].type&&i.find("input").on("click",B)}L(),F(),"deselect"===$&&r.$on("$destroy",function(){var e=A[v];A[v]=!1,F(),b&&e&&r.$eval(b)}),r.$watch(k[0]+"."+v,function(e,t){e!==t&&(g||!e||t||(j(A),A[v]=!0),L(),F(),b&&r.$eval(b))}),E&&r.$watch(k[0],function(e){A=e})}}}]),angular.module("matting-ly.selectionModel").provider("selectionModelOptions",[function(){"use strict";var e={selectedAttribute:"selected",selectedClass:"selected",type:"basic",mode:"single",cleanupStrategy:"none"};this.set=function(t){angular.extend(e,t)},this.$get=function(){var t={get:function(){return angular.copy(e)}};return t}}]),angular.module("matting-ly.selectionModel").service("selectionStack",function(){"use strict";var e={},t=1e3,n={};return e.push=function(e,o){n.hasOwnProperty(e)||(n[e]=[]);var r=n[e];for(r.push(o);r.length>t;)r.shift();return r.length},e.pop=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.pop()},e.peek=function(e){n.hasOwnProperty(e)||(n[e]=[]);var t=n[e];return t.length?t[t.length-1]:void 0},e}),angular.module("matting-ly.selectionModel").service("uuidGen",function(){"use strict";var e={},t=["0","0","0"];return e.create=function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57===e)return t[n]="A",t.join("");if(90!==e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},e}),function(){function e(e){function t(t,n,o,r){function i(){var e=a.querySelector("tbody tr:first-child td:first-child");return e&&!e.style.width}function l(){angular.element(a.querySelectorAll("thead, tbody, tfoot")).css("display",""),e(function(){angular.forEach(a.querySelectorAll("tr:first-child th"),function(e,t){var n=a.querySelector("tbody tr:first-child td:nth-child("+(t+1)+")"),o=a.querySelector("tfoot tr:first-child td:nth-child("+(t+1)+")"),r=n?n.offsetWidth:e.offsetWidth;n&&(n.style.width=r+"px"),e&&(e.style.width=r+"px"),o&&(o.style.width=r+"px")}),angular.element(a.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(a.querySelectorAll("tbody")).css({display:"block",height:o.tableHeight||"inherit",overflow:"auto"});var e=a.querySelector("tbody"),t=e.offsetWidth-e.clientWidth;if(t>0){t-=2;var n=a.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-t+"px"}})}var a=n[0];t.$watch(i,function(e){e&&l()})}return{restrict:"A",link:t}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",e),e.$inject=["$timeout"]}(),function(e){function t(e,t,n,o){e.model={header:"Projects",byline:"A few things I've worked on...",headlineImage:"/assets/images/bgs/yellow_flower_sky.jpg",projects:[]},e.init=function(){e.getProjects()},e.getProjects=function(){t.get("/api/projects").success(function(t){o(function(){e.model.projects=t},500)}).error(function(e,t,o,r){n.go("error.oops")})}}t.$inject=["$scope","$http","$state","$timeout"],e.module("matting-ly").controller("ProjectsController",t)}(window.angular),function(e){function t(e,t,n,o){e.model={header:"",byline:"",headlineImage:"",posts:[],postsHaveLoaded:!1},e.init=function(){e.model.header="Zane Mattingly",e.model.byline="Full-stack Developer",e.model.headlineImage="/assets/images/bgs/robot.jpg",e.getPosts()},e.getPosts=function(){n.get("/api/posts").success(function(t){o(function(){e.model.postsHaveLoaded=!0,e.model.posts=t},500)}).error(function(e,n,o,r){t.go("error.oops")})}}t.$inject=["$scope","$state","$http","$timeout"],e.module("matting-ly").controller("HomeController",t)}(window.angular),function(e){function t(e,t,n){e.model={header:"",byline:"",headlineImage:""},e.init=function(){e.model.header="About",e.model.byline="A few things about me",e.model.headlineImage="/assets/images/bgs/rings.jpg",e.getBio()},e.getBio=function(){t.get("/api/bio").success(function(t){n(function(){e.model.bio=t},500)}).error(function(e,t,n,o){$state.go("error.oops")})}}t.$inject=["$scope","$http","$timeout"],e.module("matting-ly").controller("AboutController",t)}(window.angular),function(e){function t(){return function(e){return e?"Yes":"No"}}t.$inject=[],e.module("matting-ly").filter("yesNo",t)}(window.angular),function(e){function t(e){return{scope:{whenFocus:"="},link:function(t,n,o){t.$watch("whenFocus",function(t){t&&e(function(){n[0].focus()})})}}}t.$inject=["$timeout"],e.module("matting-ly").directive("whenFocus",t)}(window.angular),function(e){function t(e){return function(t){return e.trustAsHtml(t)}}t.$inject=["$sce"],e.module("matting-ly").filter("trust",t)}(window.angular),function(e){function t(){return{restrict:"A",scope:!1,link:function(e,t,n){t.addClass("ng-hide");var o=new Image;o.onload=function(){e.$apply(function(){t.removeClass("ng-hide")})},o.src=n.delayDisplayTilImageLoaded}}}t.$inject=[],e.module("matting-ly").directive("delayDisplayTilImageLoaded",t)}(window.angular),function(e){function t(){return{restrict:"A",scope:!1,link:function(e,t,n){var o=new Image;o.onload=function(){e.$apply(function(){t.addClass(n.delayedClasses)})},o.src=n.delayClassTilImageLoaded}}}t.$inject=[],e.module("matting-ly").directive("delayClassTilImageLoaded",t)}(window.angular),function(e){function t(e){return{restrict:"A",scope:{},link:function(t,n,o){n.on("click",function(){e.history.back()})}}}t.$inject=["$window"],e.module("matting-ly").directive("backButton",t)}(window.angular),function(e){function t(e,t,n,o){e.when("/","/home").otherwise("/404"),t.html5Mode({enabled:!0,rewriteLinks:!1}),n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r={templateUrl:"assets/partials/layout/header.html",controller:"HeaderController"},i={templateUrl:"assets/partials/layout/footer.html",controller:"FooterController"};o.state("public",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html"}).state("public.home",{url:"/home",views:{header:r,content:{templateUrl:"assets/partials/public/home.html",controller:"HomeController"},footer:i},access:{restricted:!1}}).state("public.about",{url:"/about",views:{header:r,content:{templateUrl:"assets/partials/public/about.html",controller:"AboutController"},footer:i},access:{restricted:!1}}).state("public.projects",{url:"/projects",views:{header:r,content:{templateUrl:"assets/partials/public/projects.html",controller:"ProjectsController"},footer:i},access:{restricted:!1}}).state("auth",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html",url:"/auth"}).state("admin",{abstract:!0,templateUrl:"assets/partials/layout/adminWrapper.html",url:"/admin"}).state("admin.viewPosts",{url:"/posts",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/viewPosts.html",controller:"ViewPostsController"},footer:i},access:{restricted:!0}}).state("admin.newPost",{url:"/posts/new",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/newPost.html",controller:"NewPostController"},footer:i},access:{restricted:!0}}).state("admin.editPost",{url:"/posts/:postId",views:{header:r,content:{templateUrl:"assets/partials/admin/posts/editPost.html",controller:"EditPostController"},footer:i},access:{restricted:!0}}).state("error",{abstract:!0,templateUrl:"assets/partials/layout/publicWrapper.html"}).state("error.oops",{url:"/uhoh",views:{header:r,content:{templateUrl:"assets/partials/errors/oops.html"},footer:i},access:{restricted:!1}}).state("error.404",{url:"/404",views:{header:r,content:{templateUrl:"assets/partials/errors/404.html"
},footer:i},access:{restricted:!1}}).state("error.403",{url:"/403",views:{header:r,content:{templateUrl:"assets/partials/errors/403.html"},footer:i},access:{restricted:!1}}).state("error.500",{url:"/500",views:{header:r,content:{templateUrl:"assets/partials/errors/500.html"},footer:i},access:{restricted:!1}})}t.$inject=["$urlRouterProvider","$locationProvider","$httpProvider","$stateProvider"],e.module("matting-ly.routing",["ui.router"]).config(t)}(window.angular),function(e){function t(e,t,n){e.state=t,e.defaultTinymceOptions={height:300,plugins:"code hr link media",menu:{format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"link media | hr"}},toolbar:"formatselect | undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | indent outdent blockquote | removeformat | code"}}t.$inject=["$scope","$state","$filter"],e.module("matting-ly").controller("MainController",t)}(window.angular),function(e){function t(e,t){e.model={stateNavs:[],isLoggedIn:!1},e.init=function(){e.model.stateNavs=[{sref:"public.home",text:"Home"},{sref:"public.about",text:"About"},{sref:"public.projects",text:"Projects"}],e.model.isLoggedIn=t.returnFullLoginStatus()}}t.$inject=["$scope","AuthService"],e.module("matting-ly").controller("HeaderController",t)}(window.angular),function(e){function t(e){e.model={socialNavs:[],poweredByLines:[],poweredBy:""},e.init=function(){e.model.socialNavs=[{alt:"LinkedIn",img_src:"/assets/images/social_logos/linkedin.png",href:"https://linkedin.com/in/zanemattingly"},{alt:"Github",img_src:"/assets/images/social_logos/github.png",href:"https://github.com/zmattingly"},{alt:"Instagram",img_src:"/assets/images/social_logos/instagram.png",href:"https://instagram.com/zmattingly"},{alt:"Twitter",img_src:"/assets/images/social_logos/twitter.png",href:"https://twitter.com/z_mattingly"}],e.model.poweredByLines=["viewers like you","the efforts of a small, earnest bird","curious electromagnetic behavior","a chest-mounted arc reactor","thirteen tubas sounding in rhythm","IMMENSE hydraulic pressure","pressurized, super-heated steam","a power-generating stationary bike","bees. Hundreds of bees","a potato","the love inside you","our insect overlords","funky yeasts","three hundred dogs synced in parallel","static electricity","the harnessed gravity of a black hole"],e.model.poweredBy=e.getPoweredBy()},e.getPoweredBy=function(){return e.model.poweredByLines[Math.floor(Math.random()*(e.model.poweredByLines.length-1))]}}t.$inject=["$scope"],e.module("matting-ly").controller("FooterController",t)}(window.angular),function(e){function t(e,t,n){e.model={error:"",disabled:!1,loginForm:{username:"",password:""},isLoggedIn:!1},e.init=function(){n.isLoggedIn()?t.go("admin.viewPosts"):n.getAccountStatus().then(function(){n.isLoggedIn()&&t.go("admin.viewPosts")})},e.dropdownInit=function(){n.getAccountStatus().then(function(){e.model.isLoggedIn=n.isLoggedIn()})},e.login=function(){e.model.error="",e.model.disabled=!0,n.login(e.model.loginForm.username,e.model.loginForm.password).then(function(){t.go("admin.viewPosts")}).catch(function(){e.model.error="Invalid username and/or password",e.model.disabled=!1,e.model.loginForm={}})},e.logout=function(){n.logout().then(function(){t.go("public.home",{},{reload:!0})}).catch(function(){t.go("error.oops")})}}t.$inject=["$scope","$state","AuthService"],e.module("matting-ly").controller("LoginController",t)}(window.angular),function(e){function t(e,t,n){function o(){i().then(function(){return r()})}function r(){return c}function i(){return n.get("/auth/account").success(function(e){c=!!e._id}).error(function(e){c=!1})}function l(t,o){var r=e.defer();return n.post("/auth/login",{username:t,password:o}).success(function(e,t){200==t&&e.status?(c=!0,r.resolve()):(c=!1,r.reject())}).error(function(e){c=!1,r.reject()}),r.promise}function a(){var t=e.defer();return n.get("/auth/logout").success(function(e){c=!1,t.resolve()}).error(function(e){c=!1,t.reject()}),t.promise}function s(t,o){var r=e.defer();return n.post("/auth/register",{username:t,password:o}).success(function(e,t){200==t&&e.status?r.resolve():r.reject()}).error(function(e){r.reject()}),r.promise}var c=!1;return{isLoggedIn:r,getAccountStatus:i,returnFullLoginStatus:o,login:l,logout:a,register:s}}t.$inject=["$q","$timeout","$http"],e.module("matting-ly").factory("AuthService",t)}(window.angular);